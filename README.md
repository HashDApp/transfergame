# transfergame
# 转账即游戏

这是一个基于EOS转账功能的小游戏  
游戏的合约代码完全开源  

## 游戏玩法  
1、使用任意一款钱包在任意时刻向合约账号 ***transfergame*** 发起任意数额的EOS转账即可参与游戏  
2、赢家将获得本轮游戏所有的EOS作为奖励  
3、玩家可以通过在一轮游戏中发起多次转账，增加随机选择胜出的概率  
4、玩家可以通过转账较大数额的EOS，增加随机选择胜出的概率  

## 合约算法描述
1、合约通过接收转账事件进行逻辑处理  
2、使用account表记录玩家的转账行为  
3、使用counter表记录收到的转账次数  
4、当合约账号 ***transfergame*** 收到11笔转账时，一轮游戏结束  
5、合约在收到第11笔转账时，根据随机数算法，在11笔转账账号里选择一名幸运玩家（11笔转账中账号可以重复）  
6、合约将本轮游戏收到的所有EOS转账给幸运玩家（合约象征性的保留0.0001 EOS）  
7、当收到新的转账时，新的一轮游戏开始  

## 游戏的公平性
1、参与游戏玩家的转账行为顺序无法预测  
2、参与游戏玩家的转账行为发生时间无法预测  
3、随机数算法完全基于随机事件  

## 随机数算法
1、参与游戏的11名玩家账户名称，按顺序进行字符串连接，作为因子F1  
2、触发游戏结束的第11个转账行为时间字符串，作为因子F2  
3、区块的TAPOS编号转为字符串，作为因子F3  
4、计算哈希SHA256(F1 + F2 + F3)  
5、取哈希值的前8个字节转为uint64_t，作为随机数种子D  
6、转账数额0.0001 EOS为1个权重  
7、每个玩家转账数额转为权重，计算总和S  
8、取模运算得到最终的随机数R = D % S  
9、根据R落在玩家权重在总和S中的位置选择幸运玩家  

## 算法举例
1、  

## 游戏优点
1、任意时间、任意数额均可参与  
2、转账没有手续费  
3、上手简单，只要有支持转账的钱包就可以参与  
4、超高回报  
5、算法保证对所有玩家公平  

